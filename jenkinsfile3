pipeline {
    agent {
        docker {
           image 'python:3.8-slim-buster'
        }
    }
    stages {
       stage('install ansible') {
	     steps{
           sh """
		     sudo apt update 2>/dev/null
	         sudo apt install ansible
           """
		 }
       }
	   stage('downloading')  {
          steps{	   
            git branch: 'master', url: 'https://github.com/solbarre/ansible_apache.git'
		  }
       }
       stage('lance playbook') {
	     steps{
           sh """
	         ansible-playbook -i hosts.yaml playbook.yaml
	       """
		 }
       }               
    }
}     